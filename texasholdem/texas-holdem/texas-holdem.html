<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>The Gilded Terminal - Unified Interface</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link href="../deck-of-cards/example/example.css" rel="stylesheet">
  <link href="texas-holdem.css" rel="stylesheet">
</head>
<body>

  <!-- 1. Ê†∏ÂøÉÊ∏∏ÊàèÊ°åÂÆπÂô® (View) -->
  <div id="poker-table">
    <!-- Â∫ß‰Ωç -->
    <div id="seats-container"></div>

    <!-- ‰∏≠Â§ÆÂÖ¨ÂÖ±Áâå/Á≠πÁ†ÅÂå∫Âüü -->
    <div id="center-layout">
      <!-- Â∫ïÊ±† -->
      <div id="main-pot-area">
        <div id="pot-clusters"></div>
        <div class="pot-info-hover">
          <div class="pot-label">TOTAL POT</div>
          <div class="pot-val-hover">$<span id="pot-amount">0</span></div>
        </div>
      </div>
      <!-- ÂÖ¨ÂÖ±Áâå -->
      <div class="card-container" id="community-cards"></div>
      <!-- ÁâåÂ†Ü -->
      <div id="deck-wrapper" class="deck-inline">
        <div id="deck-mount"></div>
        <div class="deck-label">DECK</div>
      </div>
    </div>

    <!-- Â±èÂπï‰∏≠Â§ÆÊèêÁ§∫ÊñáÂ≠ó -->
    <div class="terminal-text" id="game-message">SYSTEM READY</div>
  </div>


  <!-- 2. ÊÇ¨ÊµÆÁöÑÊäÄËÉΩ‰ø°ÊÅØ‰∏éÂèçÈ¶àÂ±Ç (Overlay Layers) -->
  <div id="floating-layers">
    <!-- ÂÖàÁü•È¢ÑËßàÈù¢Êùø (ÊµÆÂä®Âú®Âä†Ê≥®Âå∫‰∏äÊñπ) -->
    <div id="foresight-panel" style="display:none;"></div>
    <!-- ÊÑüÁü•/Á≥ªÁªüÊä•Ë≠¶ -->
    <div id="sense-alert" style="display:none;"></div>
    <!-- ÊäÄËÉΩÂèçÂô¨Á≠âÊèêÁ§∫ -->
    <div id="backlash-indicator" style="display:none;"></div>
    <!-- ÈÄèËßÜÁõÆÊ†áÈÄâÊã©Èù¢Êùø -->
    <div id="peek-panel" style="display:none;">
      <div class="peek-title">üÉè ÈÄâÊã©ÈÄèËßÜÁõÆÊ†á</div>
      <div class="peek-tiers" id="peek-tiers"></div>
      <div class="peek-targets" id="peek-targets"></div>
      <div class="peek-cancel"><button id="peek-cancel-btn" class="action-btn small">ÂèñÊ∂à</button></div>
    </div>
    <!-- ÂèëÁâåÊó∂ÂäõÈáèÂØπÊäóÂ±ïÁ§∫ÔºàÁî± JS Âä®ÊÄÅÂ°´ÂÖÖÔºâ -->
    <div id="force-pk-overlay" style="display:none;"></div>
  </div>


  <!-- 3. ÂÖ®Êñ∞Â∫ïÈÉ®Êìç‰Ωú‰ª™Ë°®Áõò (Unified Controller) -->
  <div id="game-dashboard">

    <!-- = [ SECTION 1: Monitor / Info ] ======================== -->
    <div class="dash-section monitor">
      <!-- Â±ÄÂäøÊï∞ÊçÆ -->
      <div class="hud-info-box">
        <div>CHIPS TO CALL</div>
        <div class="to-call-display" id="to-call-amount">$0</div>
      </div>

      <!-- Á≥ªÁªü/Êó•ÂøóÊéßÂà∂ -->
      <div class="log-controls">
        <button id="btn-toggle-log" class="action-btn small">LOG</button>
        <button id="btn-copy-log" class="action-btn small" style="display:none;">CPY</button>
        <button id="btn-deal" class="action-btn primary small">NEW HAND</button>
      </div>

      <!-- Áä∂ÊÄÅÊñáÂ≠óÂÆπÂô® -->
      <div id="moz-status" class="moz-status ready">È≠îËøêÂ∞±Áª™</div>
    </div>


    <!-- = [ SECTION 2: Action Center ] ======================== -->
    <div class="dash-section actions">

      <!-- Âä†Ê≥®ÊªëÂùóÊ†è (Âπ≥Êó∂ÈöêËóè) -->
      <div id="raise-controls" style="display:none;">
        <div class="raise-inner">
           <span class="raise-label">AMOUNT:</span>
           <span id="raise-amount-display">$100</span>
           <input type="range" id="raise-slider" min="0" max="1000" step="10">
           <button id="btn-confirm-raise" class="action-main-btn btn-confirm">OK</button>
        </div>
      </div>

      <!-- ‰∏ªÊåâÈíÆÊ†è -->
      <div class="action-row">
        <button id="btn-fold" class="action-main-btn warning" disabled>FOLD</button>
        <button id="btn-check-call" class="action-main-btn" disabled>CHECK</button>
        <button id="btn-raise" class="action-main-btn prime" disabled>RAISE</button>
      </div>

    </div>


    <!-- = [ SECTION 3: Magic / Skills ] ======================== -->
    <div class="dash-section skills">

        <!-- Force Balance Bar (ÂèØÈÄâÊòæÁ§∫) -->
        <div id="force-balance" style="display:none;">
           <div class="force-ally"></div>
           <div class="force-enemy"></div>
        </div>

        <!-- ÊäÄËÉΩÊåâÈíÆÈù¢Êùø (Áî± skill-ui.js Âä®ÊÄÅÂ°´ÂÖÖ) -->
        <div id="skill-panel"></div>

        <!-- Mana Bar & Status -->
        <div id="new-mana-wrapper">
             <div class="mana-label-mini">MP</div>
             <div id="mana-bar-track">
                <div id="mana-bar" class="mana-fill high"></div>
             </div>
             <div id="mana-text">100/100</div>
        </div>

    </div>

  </div>


  <!-- Êó•ÂøóÂºπÁ™ó (ÈöêËóèÁä∂ÊÄÅÔºåÁÇπÂáª LOG ÊòæÁ§∫) -->
  <div id="game-log-panel" style="display:none;">
      <div class="log-header">BATTLE LOG</div>
      <pre id="game-log-content"></pre>
  </div>

  <!-- Debug ÊåâÈíÆ (ÈöêËóè) -->
  <div id="debug-panel" style="visibility:hidden; position:absolute;">
     <button id="btn-force-next">Force Next</button>
  </div>


  <!-- Á¨¨‰∏âÊñπÂ∫ìÔºàÂÖ®Â±ÄÊåÇËΩΩÔºåÈùû ES ModuleÔºâ -->
  <script src="../deck-of-cards/dist/deck.js"></script>
  <script src="../pokersolver/pokersolver.js"></script>

  <!-- Ê†∏ÂøÉÂºïÊìéÔºàIIFEÔºåÈÄêÊ≠•ËøÅÁßªÔºâ -->
  <script src="core/poker-ai.js"></script>
  <script src="utils/game-logger.js"></script>
  <script src="core/skill-system.js"></script>
  <script src="core/monte-of-zero.js"></script>
  <script src="ui/skill-ui.js"></script>

  <!-- RPG Á≥ªÁªüÂ±ÇÔºàES ModuleÔºâ -->
  <script type="module" src="rpg/rpg-init.js"></script>

  <!-- Ê∏∏Êàè‰∏ªÈÄªËæëÔºàIIFEÔºåÈÄêÊ≠•ËøÅÁßªÔºâ -->
  <script src="texas-holdem.js"></script>
</body>
</html>
