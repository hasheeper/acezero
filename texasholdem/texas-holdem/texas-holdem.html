<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>The Gilded Terminal - Unified Interface</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link href="../deck-of-cards/example/example.css" rel="stylesheet">
  <link href="texas-holdem.css" rel="stylesheet">
</head>
<body>

  <!-- 1. Ê†∏ÂøÉÊ∏∏ÊàèÊ°åÂÆπÂô® (View) -->
  <div id="poker-table">
    <!-- Â∫ß‰Ωç -->
    <div id="seats-container"></div>

    <!-- ‰∏≠Â§ÆÂÖ¨ÂÖ±Áâå/Á≠πÁ†ÅÂå∫Âüü -->
    <div id="center-layout">
      <!-- Â∫ïÊ±† -->
      <div id="main-pot-area">
        <div id="pot-clusters"></div>
        <div class="pot-info-hover">
          <div class="pot-label">TOTAL POT</div>
          <div class="pot-val-hover"><span id="pot-amount">0</span></div>
        </div>
      </div>
      <!-- ÂÖ¨ÂÖ±Áâå -->
      <div class="card-container" id="community-cards"></div>
      <!-- ÁâåÂ†Ü -->
      <div id="deck-wrapper" class="deck-inline">
        <div id="deck-mount"></div>
        <div class="deck-label">DECK</div>
      </div>
    </div>

    <!-- Â±èÂπï‰∏≠Â§ÆÊèêÁ§∫ÊñáÂ≠ó -->
    <div class="terminal-text" id="game-message">SYSTEM READY</div>
  </div>


  <!-- 2. ÊÇ¨ÊµÆÁöÑÊäÄËÉΩ‰ø°ÊÅØ‰∏éÂèçÈ¶àÂ±Ç (Overlay Layers) -->
  <div id="floating-layers">
    <!-- ÂÖàÁü•È¢ÑËßàÈù¢Êùø (ÊµÆÂä®Âú®Âä†Ê≥®Âå∫‰∏äÊñπ) -->
    <div id="foresight-panel" style="display:none;"></div>
    <!-- ÈÄèËßÜÁõÆÊ†áÈÄâÊã©Èù¢Êùø -->
    <div id="peek-panel" style="display:none;">
      <div class="peek-title">üÉè ÈÄâÊã©ÈÄèËßÜÁõÆÊ†á</div>
      <div class="peek-tiers" id="peek-tiers"></div>
      <div class="peek-targets" id="peek-targets"></div>
      <div class="peek-cancel"><button id="peek-cancel-btn" class="action-btn small">ÂèñÊ∂à</button></div>
    </div>
    <!-- ÂèëÁâåÊó∂ÂäõÈáèÂØπÊäóÂ±ïÁ§∫ÔºàÁî± JS Âä®ÊÄÅÂ°´ÂÖÖÔºâ -->
    <div id="force-pk-overlay" style="display:none;"></div>
  </div>


  <!-- 3. Grimoire ÊäÄËÉΩÊäΩÂ±â (Slide-up Drawer) -->
  <div id="grimoire-player">
    <div class="deck-header">
      <span>/// TACTICAL INVENTORY</span>
      <span id="moz-status" class="moz-status ready">È≠îËøêÂ∞±Áª™</span>
    </div>

    <div class="deck-container">
      <!-- Force Balance Bar (ÂèØÈÄâÊòæÁ§∫) -->
      <div id="force-balance" style="display:none;">
        <div class="force-ally"></div>
        <div class="force-enemy"></div>
      </div>

      <!-- ÊäÄËÉΩÂç°ÁâåÈù¢Êùø (Áî± skill-ui.js Âä®ÊÄÅÂ°´ÂÖÖ) -->
      <div id="skill-panel"></div>
    </div>
  </div>


  <!-- 4. Â∫ïÈÉ®Êìç‰Ωú‰ª™Ë°®Áõò (Dashboard) -->
  <div id="game-dashboard">

    <!-- = [ LEFT: Pylon / Info ] ======================== -->
    <div class="pylon">
      <div class="pylon-label">CHIPS TO CALL</div>
      <div class="pylon-val"><span id="to-call-amount">0</span></div>
    </div>

    <!-- = [ CENTER: Command Deck ] ======================== -->
    <div class="command-deck">
      <!-- Âä†Ê≥®ÊªëÂùóÊ†è (Âπ≥Êó∂ÈöêËóè) -->
      <div id="raise-controls" style="display:none;">
        <div class="raise-inner">
           <span class="raise-label">AMOUNT:</span>
           <span id="raise-amount-display">1Èáë</span>
           <input type="range" id="raise-slider" min="0" max="1000" step="10">
           <button id="btn-confirm-raise" class="btn-cmd btn-confirm-raise">OK</button>
        </div>
      </div>

      <!-- ‰∏ªÊåâÈíÆÊ†è (Ê∏∏Êàè‰∏≠ÊòæÁ§∫) -->
      <div id="action-row" class="action-row">
        <button id="btn-fold" class="btn-cmd" disabled>FOLD</button>
        <button id="btn-check-call" class="btn-cmd" disabled>CHECK</button>
        <button id="btn-raise" class="btn-cmd btn-gold" disabled>RAISE</button>
      </div>

      <!-- Á≥ªÁªüÊéßÂà∂Ê†è (idle Êó∂ÊòæÁ§∫) -->
      <div id="idle-row" class="action-row">
        <button id="btn-toggle-log" class="btn-cmd">LOG</button>
        <button id="btn-deal" class="btn-cmd btn-gold">NEW HAND</button>
      </div>
      <button id="btn-copy-log" class="btn-cmd btn-mini" style="display:none;">CPY</button>
    </div>

    <!-- = [ RIGHT: Grimoire Key + Mana ] ======================== -->
    <div class="magic-dock">
      <div id="magic-key">
        <div class="key-content">
          <svg class="key-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l10 6-10 14L2 8z"/></svg>
          <div class="key-lbl">GRIMOIRE</div>
        </div>
        <div class="mp-module">
          <div id="mana-text" class="mp-nums">MP 100/100</div>
          <div class="mp-slot">
            <div id="mana-bar" class="mp-fluid mana-fill high"></div>
          </div>
        </div>
      </div>
      <!-- ÂèçÂô¨ÊåáÁ§∫Âô® -->
      <div id="backlash-indicator" style="display:none;"></div>
    </div>

  </div>


  <!-- Êó•ÂøóÂºπÁ™ó (ÈöêËóèÁä∂ÊÄÅÔºåÁÇπÂáª LOG ÊòæÁ§∫) -->
  <div id="game-log-panel" style="display:none;">
      <div class="log-header">BATTLE LOG</div>
      <pre id="game-log-content"></pre>
  </div>

  <!-- 5. ÂºÄÂ±Ä Splash (È¶ñÊ¨°Âä†ËΩΩ / idle Êó∂Â±Ö‰∏≠Â§ßÊåâÈíÆ) -->
  <div id="splash-overlay">
    <div class="splash-inner">
      <div class="splash-title">THE GILDED ORACLE</div>
      <div class="splash-sub">/// TERMINAL V.3.2</div>
      <button id="splash-deal" class="btn-cmd btn-gold splash-btn">NEW HAND</button>
    </div>
  </div>

  <!-- 6. ÁªìÁÆóÂºπÁ™ó (ÊâãÁâåÁªìÊùüÂêéÂºπÂá∫) -->
  <div id="endhand-modal" style="display:none;">
    <div class="endhand-inner">
      <div class="endhand-title" id="endhand-title">HAND COMPLETE</div>
      <div class="endhand-result" id="endhand-result"></div>
      <div class="endhand-actions">
        <button id="endhand-log" class="btn-cmd">COPY LOG</button>
        <button id="endhand-deal" class="btn-cmd btn-gold">NEW HAND</button>
      </div>
    </div>
  </div>

  <!-- Debug ÊåâÈíÆ (ÈöêËóè) -->
  <div id="debug-panel" style="visibility:hidden; position:absolute;">
     <button id="btn-force-next">Force Next</button>
  </div>


  <!-- Á¨¨‰∏âÊñπÂ∫ìÔºàÂÖ®Â±ÄÊåÇËΩΩÔºåÈùû ES ModuleÔºâ -->
  <script src="../deck-of-cards/dist/deck.js"></script>
  <script src="../pokersolver/pokersolver.js"></script>

  <!-- Ê†∏ÂøÉÂºïÊìéÔºàIIFEÔºåÈÄêÊ≠•ËøÅÁßªÔºâ -->
  <script src="utils/currency.js"></script>
  <script src="core/poker-ai.js"></script>
  <script src="utils/game-logger.js"></script>
  <script src="core/skill-system.js"></script>
  <script src="core/monte-of-zero.js"></script>
  <script src="ui/skill-ui.js"></script>

  <!-- RPG Á≥ªÁªüÂ±ÇÔºàES ModuleÔºâ -->
  <script type="module" src="rpg/rpg-init.js"></script>

  <!-- Ê∏∏Êàè‰∏ªÈÄªËæëÔºàIIFEÔºåÈÄêÊ≠•ËøÅÁßªÔºâ -->
  <script src="texas-holdem.js"></script>
</body>
</html>
